## Issue #108: Ban "The irony?" phrase

**Task completed**: Added lint rule to ban "the irony" when followed by ?

**Key decisions**:
- Used regex pattern `the irony[?]` to match the phrase followed by question mark
- Added to existing DISALLOWED_PHRASES array for consistency with other banned phrases

**Files changed**:
- app/features/article-writer/lint-rules.ts - Added "the irony[?]" to DISALLOWED_PHRASES and readable description

**Blockers**: None

## Issue #107: Ban "the good news?" phrase

**Task completed**: Added lint rule to ban "the good news" when followed by ? or :

**Key decisions**:
- Used regex pattern `the good news[?:]` to match the phrase followed by question mark or colon
- Allows "the good news is that..." (in longer sentences) but bans "The good news?" as a three-word sentence
- Added to existing DISALLOWED_PHRASES array for consistency with other banned phrases

**Files changed**:
- app/features/article-writer/lint-rules.ts - Added "the good news[?:]" to DISALLOWED_PHRASES and readable description

**Blockers**: None

## Issue #106: Ban "the reality" followed by punctuation

**Task completed**: Added lint rule to ban "the reality" when followed by punctuation

**Key decisions**:
- Used regex pattern `the reality[?!:;.,]` to match the phrase followed by common punctuation marks
- Allows "the reality is that" (followed by whitespace) but bans "The reality?" as a two-word sentence
- Added to existing DISALLOWED_PHRASES array for consistency with other banned phrases

**Files changed**:
- app/features/article-writer/lint-rules.ts - Added "the reality[?!:;.,]" to DISALLOWED_PHRASES and readable description

**Blockers**: None

## Issue #105: Add rich text copy option to article page

**Task completed**: Added ability to copy as rich text in addition to markdown

**Key decisions**:
- Added `marked` library for converting markdown to HTML
- Changed the simple "Copy" button to a dropdown menu with two options: "Copy as Markdown" and "Copy as Rich Text"
- Rich text copy uses the Clipboard API's `write` method with both `text/html` and `text/plain` MIME types
- Kept the existing dropdown behavior for interview/brainstorming modes unchanged

**Files changed**:
- package.json - Added `marked` dependency
- app/routes/videos.$videoId.write.tsx - Added `copyAsRichText` function, converted copy button to dropdown menu with both markdown and rich text options

**Blockers**: None

## Issue #104: Add more banned words to lint rules

**Task completed**: Added additional banned phrases to article writer lint rules

**Key decisions**:
- Added context-aware patterns using regex: "spoiler" only banned when followed by comma/colon
- "here's the thing:" banned only with colon
- "yeah" banned outright
- "it's kind of like" banned outright
- "game changer" banned with optional hyphen or space (`game[ -]?changer`)
- Created separate `DISALLOWED_PHRASES_READABLE` array for human-readable fix instructions

**Files changed**:
- app/features/article-writer/lint-rules.ts - Added new phrases to DISALLOWED_PHRASES array, created DISALLOWED_PHRASES_READABLE for fix instruction display

**Blockers**: None

## Issue #103: Add newsletter greeting sigil

**Task completed**: Added personalized greeting sigil to newsletter creation

**Key decisions**:
- Created `NEWSLETTER_GREETING_SIGIL` constant: `Hey {{ subscriber.first_name | strip | default: "there" }},`
- Extended lint rule system to support `required` patterns (patterns that must be present, not absent)
- Added "newsletter-greeting" lint rule that only applies to "newsletter" mode
- Updated newsletter prompt to explicitly instruct LLM to start with the greeting sigil

**Files changed**:
- app/features/article-writer/lint-rules.ts - Added `required` field to LintRule interface, exported NEWSLETTER_GREETING_SIGIL constant, added "newsletter-greeting" rule
- app/hooks/use-lint.ts - Updated lint check logic to handle required rules (violation when pattern is missing)
- app/prompts/generate-newsletter.ts - Added import and instruction for greeting sigil

**Blockers**: None

## Issue #102: Add pre-interview chat before interview begins

**Task completed**: Added pre-interview mode with "Go Live" transition to interview mode

**Key decisions**:
- Created new "interview-prep" mode for the pre-interview discussion phase
- Pre-interview prompt guides AI to: greet warmly, ask what user wants to discuss, offer 2-3 interesting angles from the material, find common ground, and confirm the plan
- Added "Go Live" button that appears after messages in interview-prep mode
- When user clicks "Go Live", mode switches to "interview" and sends transition message
- Conversation history carries over so the live interview knows the agreed scope
- Updated mode labels: "Interview Me (Pre-Interview)" and "Interview Me (Live)"

**Files changed**:
- app/routes/videos.$videoId.completions.ts - Added "interview-prep" to modeSchema
- app/prompts/generate-interview-prep.ts - New prompt file for pre-interview chat
- app/services/text-writing-agent.ts - Added import and interview-prep case to switch
- app/routes/videos.$videoId.write.tsx - Added RadioIcon, updated modeToLabel, changed dropdown to interview-prep, added "Go Live" button

**Blockers**: None

## Issue #101: Add interview steering prompts to change subjects regularly

**Task completed**: Updated interview mode prompt to steer conversation and change subjects

**Key decisions**:
- Added "STEERING THE INTERVIEW" section to output-format
- Explicit instruction to pivot after 2-3 exchanges on a subject
- Five specific angle types to explore: contrarian, personal stories, practical tradeoffs, broader context, surprising connections
- Framing: "think like an editor" and "pull diverse, engaging content"

**Files changed**:
- app/prompts/generate-interview.ts - Added steering instructions to output-format section

**Blockers**: None

## Issue #100: Create disallowed phrases list in article lint rules

**Task completed**: Added disallowed LLM phrases to lint rules in the article writer

**Key decisions**:
- Created a `DISALLOWED_PHRASES` array for easy maintenance and extension
- Phrases are case-insensitive matched using RegExp with "gi" flags
- Initial phrases: "uncomfortable truth", "hard truth" (per issue comments)
- Rule applies to all modes (modes: null)
- Fix instruction tells the LLM to remove or rephrase the flagged phrases

**Files changed**:
- app/features/article-writer/lint-rules.ts - Added DISALLOWED_PHRASES array and "no-llm-phrases" rule

**Blockers**: None

## Issue #99: Add article plan mode to article writer

**Task completed**: Added article plan mode to the write article page

**Key decisions**:
- Article plan mode creates structured outlines with H2 headings and ultra-concise bullet points
- Uses ListTreeIcon for UI representation (represents hierarchical outline structure)
- Prompt emphasizes: choosing own flow (not following source order), being ruthlessly selective, prioritizing mercilessly, leaving irrelevant content on cutting room floor
- Bullet points should sacrifice grammar for concision (skip articles, use shorthand, fragments OK)
- Output includes main learning goal and what was intentionally left out

**Files changed**:
- app/routes/videos.$videoId.completions.ts - Added "article-plan" to modeSchema
- app/prompts/generate-article-plan.ts - New prompt file for article planning
- app/services/text-writing-agent.ts - Added import and article-plan case to switch statement
- app/routes/videos.$videoId.write.tsx - Added UI: ListTreeIcon import, modeToLabel entry, SelectItem

**Blockers**: None

## Issue #98: Add brainstorming mode to article writer

**Task completed**: Added brainstorming mode to the write article page

**Key decisions**:
- Brainstorming mode follows the same pattern as interview mode but with different prompting
- Uses LightbulbIcon for the UI representation
- Shares the same dropdown copy behavior as interview mode (copy conversation history / copy last message)
- Prompt focuses on: exploring ideas, extending/deepening thinking, making connections, challenging assumptions, and offering new angles

**Files changed**:
- app/routes/videos.$videoId.completions.ts - Added "brainstorming" to modeSchema
- app/prompts/generate-brainstorming.ts - New prompt file for brainstorming facilitator
- app/services/text-writing-agent.ts - Added brainstorming case to switch statement
- app/routes/videos.$videoId.write.tsx - Added UI: icon import, modeToLabel entry, SelectItem, and dropdown behavior

**Blockers**: None
