## Issue #1 - Beat dots orange → light grey
- Changed BeatIndicator dots from bg-orange-500 to bg-zinc-400
- File: app/features/video-editor/video-editor.tsx:886-894

## Issue #2 - Remove pause icon from video editor
- Removed PauseIcon from timecode overlay on clip thumbnails
- BeatIndicator (three ellipses) now serves as the only beat indicator
- Kept PauseIcon in context menu for "Add/Remove Beat" action
- File: app/features/video-editor/video-editor.tsx:730-732 (removed)

## Issue #5 - Scene-based overlay visibility
- Half-opaque overlay now only shows when current OBS scene matches previous clip's scene
- If no scene detected (OBS not connected or clip has no scene), defaults to showing overlay
- File: app/features/video-editor/video-editor.tsx:370-391

## Issue #6 - Changelog shows updated/changed videos
- Content changes (changed transcripts) were being detected but not displayed
- Added `updatedLessons` to `SectionChanges` type
- Track content changes when organizing changes by section
- Added "#### Updated" section in changelog output for lessons with transcript changes
- File: app/services/changelog-service.ts:220-226, 246, 266-269, 380, 423-431

## Issue #7 - Renames only count actual name changes, not number changes
- Previously, changing `01.03-choosing-your-model` to `01.04-choosing-your-model` was detected as a rename
- Added `stripNumericPrefix()` and `hasNameChanged()` helper functions
- Updated section rename detection to use `hasNameChanged()` instead of path inequality
- Updated lesson rename detection to use `hasNameChanged()` instead of path inequality
- Now only detects renames when the actual name portion changes (e.g., `streaming-objects` → `generating-objects-via-output`)
- File: app/services/changelog-service.ts:203-218, 123, 146

## Issue #3 - Export video from course page context menu
- Added "Export" option to video right-click context menu on course page
- Added `exportVideoFetcher` using React Router's `useFetcher` hook
- Export menu item posts to existing `/api/videos/$videoId/export` endpoint
- Uses Download icon to indicate export action
- File: app/routes/_index.tsx:266, 834-844

## Issue #8 - Publish not respecting repo versions
- Publish endpoint was using `getRepoWithSectionsById` which returns ALL sections for a repo, regardless of version
- Changed to first get the latest version via `getLatestRepoVersion`
- Then use `getRepoWithSectionsByVersion` to fetch only sections from the latest version
- This ensures only the latest version's sections are published to Dropbox
- File: app/routes/api.repos.publish-to-dropbox.ts:93-107

## Issue #9 - Add glossary to changelog
- Added a glossary section at the top of the changelog explaining what each term means
- New Lessons: Newly added content
- Renamed: The lesson or section name has changed
- Updated: The video has been updated and the readme needs to be rewritten
- Deleted: The lesson or section has been removed
- File: app/services/changelog-service.ts:341-351

## Issue #10 - Allow users to move clips up and down in the video editor
- Added keyboard hotkeys: Alt+Up moves selected clip up, Alt+Down moves selected clip down
- Added context menu options "Move Up" and "Move Down" (disabled at boundaries)
- Implemented using existing reducer pattern:
  - Added `move-clip` action to clip-state-reducer.ts with `reorder-clip` effect
  - Added `press-alt-arrow-up` and `press-alt-arrow-down` actions to video-state-reducer.ts
  - Added `move-clip` effect that triggers parent's onMoveClip callback
- Created new API endpoint `/clips/reorder` for database sync
- Added `reorderClip` function to DBService using fractional-indexing for order calculation
- Files changed:
  - app/features/video-editor/clip-state-reducer.ts
  - app/features/video-editor/video-state-reducer.ts
  - app/features/video-editor/video-editor.tsx
  - app/routes/videos.$videoId.edit.tsx
  - app/services/db-service.ts
  - app/routes/clips.reorder.ts (new)

## Issue #11 - Allow the write page to work for stand-alone videos
- Write page now works for videos without a lesson (standalone videos)
- For standalone videos:
  - File tree is hidden (no files to show)
  - README writing dropdown is hidden (no explainer/problem folder)
  - Video player moves to the chat area above the conversation
  - Chat column takes full width
  - Header shows just video name (not section/lesson/video path)
  - Back button navigates to home instead of repo view
  - Copy functionality still works
- Key decision: Pass empty string for `imageBasePath` when standalone (no local files to reference)
- File: app/routes/videos.$videoId.write.tsx:75-164, 329-374, 417, 521-585

## Issue #12 - Transcript toggle on write article page
- Added checkbox above file tree to toggle transcript inclusion in prompts
- Displays word count next to checkbox (e.g., "Transcript (1,234 words)")
- When unchecked, transcript is not passed to the AI prompts
- Changes:
  - Loader now fetches video with clips via `getVideoWithClipsById` and calculates word count
  - Added `includeTranscript` state (defaults to true) and UI checkbox
  - Completions endpoint schema accepts `includeTranscript` parameter
  - `acquireTextWritingContext` returns empty transcript when `includeTranscript` is false
  - Updated all prompt functions to conditionally include transcript section:
    - generate-article.ts
    - generate-steps-to-complete-for-project.ts
    - generate-steps-to-complete-for-skill-building-problem.ts
    - refine-skill-building-with-style-guide.ts
    - refine-project-with-style-guide.ts
- Files changed:
  - app/routes/videos.$videoId.write.tsx
  - app/routes/videos.$videoId.completions.ts
  - app/services/text-writing-agent.ts
  - app/prompts/generate-article.ts
  - app/prompts/generate-steps-to-complete-for-project.ts
  - app/prompts/generate-steps-to-complete-for-skill-building-problem.ts
  - app/prompts/refine-skill-building-with-style-guide.ts
  - app/prompts/refine-project-with-style-guide.ts

## Issue #14 - Add link from write article page to edit video page
- Added "Edit Video" button in the header of the write article page
- Button links to `/videos/:videoId/edit` for quick navigation to the video editor
- Uses FilmIcon to indicate video editing functionality
- Placed before the Previous/Next navigation buttons
- File: app/routes/videos.$videoId.write.tsx:358-363

## Issue #13 - Add SEO description mode to write article page
- Created new prompt file for SEO description generation with 160 character limit
- Added "seo-description" mode to frontend Mode type and modeToLabel mapping
- Added new SelectItem in UI for SEO Description mode with description
- Updated backend chatSchema to accept "seo-description" in mode union
- Added "seo-description" to TextWritingAgentMode type in text-writing-agent.ts
- Wired up SEO mode in createTextWritingAgent switch statement
- Prompt emphasizes 160 character hard limit and SEO best practices
- Mode takes transcript and optional code files as context
- Files changed:
  - app/prompts/generate-seo-description.ts (new)
  - app/routes/videos.$videoId.write.tsx:203-209, 212-218, 514-521
  - app/routes/videos.$videoId.completions.ts:13-26
  - app/services/text-writing-agent.ts:1-6, 21-27, 72-77

## Issue #15 - Align transcript checkbox with files in context checkboxes
- Removed border and padding from FileTree component container
- Transcript checkbox now visually aligns with file tree checkboxes
- Only removed `border rounded-lg p-2` classes from the wrapper div
- Kept scrollbar styling and max-height for overflow handling
- File: app/components/FileTree.tsx:213

## Issue #16 - Add icons to writing modes in the selector
- Added icons to each writing mode in the selector dropdown to make them visually distinct
- Icons chosen:
  - Article: FileTextIcon (writing text content)
  - Project Steps: ListChecksIcon (checklist)
  - Skill Building Steps: GraduationCapIcon (learning/education)
  - Style Guide Pass - Skill Building: RefreshCwIcon (refinement)
  - Style Guide Pass - Project: RefreshCwIcon (refinement)
  - SEO Description: SearchIcon (search optimization)
- Updated SelectItem components to include flex layout with icon on the left
- File: app/routes/videos.$videoId.write.tsx:43-57, 479-544

## Issue #17 - Remove microphone monitoring from empty video editor state
- Removed microphone monitoring list item from pre-recording checklist in empty state
- Deleted `VolumeIndicator` component (volume-indicator.tsx) that displayed live audio levels
- Deleted `useVolumeLevel` hook (use-volume-level.ts) that consumed CPU cycles monitoring MediaStream
- Removed imports for VolumeIndicator and useVolumeLevel from video-editor.tsx
- Removed volumeLevel hook usage that was creating AudioContext and running requestAnimationFrame loop
- This eliminates unnecessary CPU usage when the video editor has no clips
- Files changed:
  - app/features/video-editor/video-editor.tsx:76-77, 148, 653-661 (removed)
  - app/features/video-editor/volume-indicator.tsx (deleted)
  - app/features/video-editor/use-volume-level.ts (deleted)

## Issue #18 - Video Editor Clip Sections (Part 1: Database Layer)
- Created `clipSections` database table with schema matching PRD specifications
- Table includes: id (UUID), videoId (FK with cascade delete), name (text), order (varchar COLLATE "C"), archived (boolean), createdAt (timestamp)
- Added Drizzle relations for clipSections to videos (one-to-many)
- Implemented DB operations in DBService: createClipSection, getClipSectionById, updateClipSection, archiveClipSection, reorderClipSection
- reorderClipSection implements unified ordering by fetching both clips and clip sections, combining them, sorting by order field, and calculating new fractional position
- Key decision: Clip sections and clips share the same fractional ordering space using varchar COLLATE "C" for proper sorting
- All tests and typecheck pass
- Files changed:
  - app/db/schema.ts:151-168, 180-182, 187 (added clipSections table and relations)
  - app/services/db-service.ts:2, 162-335, 568-572 (added clipSections import and CRUD operations)

## Issue #18 - Video Editor Clip Sections (Part 2: API Routes)
- Created four API routes for clip section operations following existing clip route patterns
- Routes follow Effect-based architecture with Schema validation and error handling
- All routes use withDatabaseDump for data persistence and layerLive for dependency injection
- Key decision: Archive route supports both single ID and array of IDs (same pattern as clips.archive.ts)
- All tests and typecheck pass
- Files changed:
  - app/routes/clip-sections.create.ts (new) - creates clip section with videoId, name, order
  - app/routes/clip-sections.update.ts (new) - updates clip section name
  - app/routes/clip-sections.archive.ts (new) - soft deletes one or more clip sections
  - app/routes/clip-sections.reorder.ts (new) - moves clip section up/down in unified ordering
