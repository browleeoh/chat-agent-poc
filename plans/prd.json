[
  {
    "category": "functional",
    "description": "Preview Changelog action visible when multiple versions exist",
    "steps": [
      "Select a repo with multiple versions",
      "Click the Actions dropdown",
      "Verify 'Preview Changelog' action is visible in the Version section"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Preview Changelog action hidden when only one version exists",
    "steps": [
      "Select a repo with only one version",
      "Click the Actions dropdown",
      "Verify 'Preview Changelog' action is not visible"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Clicking Preview Changelog navigates to preview page",
    "steps": [
      "Select a repo with multiple versions",
      "Click the Actions dropdown",
      "Click 'Preview Changelog'",
      "Verify URL changes to changelog preview page",
      "Verify changelog content is displayed"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Changelog content matches Dropbox changelog format",
    "steps": [
      "Navigate to changelog preview page",
      "Verify changelog shows version headers with dates",
      "Verify new lessons are listed under 'New Lessons' section",
      "Verify renamed items appear under 'Renamed' section",
      "Verify content changes appear under 'Content Changes' section"
    ],
    "passes": true
  },
  {
    "category": "ui",
    "description": "Changelog renders as formatted HTML not raw markdown",
    "steps": [
      "Navigate to changelog preview page",
      "Verify headings are styled as HTML headings",
      "Verify Tailwind Typograph is installed, via Tailwind v4 config file",
      "Verify bullet points are rendered as list items",
      "Verify no raw markdown syntax visible (e.g., no '###' or '-' prefixes)"
    ],
    "passes": true
  },
  {
    "category": "ui",
    "description": "Preview page has back navigation to main interface",
    "steps": [
      "Navigate to changelog preview page",
      "Verify back button or link is visible",
      "Click back navigation",
      "Verify return to main interface with repo selected"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Changelog refreshes when page is brought into focus",
    "steps": [
      "Navigate to changelog preview page",
      "Switch to another browser tab or window",
      "Make a change that affects changelog (e.g., rename a lesson)",
      "Switch back to changelog preview tab",
      "Verify changelog content updates to reflect the change"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Focus refresh uses shared hook with main page",
    "steps": [
      "Verify custom hook exists for focus-based revalidation",
      "Verify main page uses the shared hook",
      "Verify changelog preview page uses the same shared hook",
      "Confirm both pages refresh on focus using identical logic"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Rewrite repo path action available in Actions dropdown",
    "steps": [
      "Select a repo",
      "Click the Actions dropdown",
      "Verify 'Rewrite Repo Path' action is visible"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Rewrite repo path opens dialog with current path",
    "steps": [
      "Click 'Rewrite Repo Path' action",
      "Verify dialog opens with text input",
      "Verify current repo path is pre-filled in input"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Submitting new path updates repo in database",
    "steps": [
      "Open rewrite repo path dialog",
      "Enter new valid path",
      "Click submit/save",
      "Verify repo path updates in UI",
      "Verify database reflects new path"
    ],
    "passes": true
  },
  {
    "category": "validation",
    "description": "Invalid path shows error message",
    "steps": [
      "Open rewrite repo path dialog",
      "Enter path that doesn't exist on filesystem",
      "Click submit/save",
      "Verify error message is displayed",
      "Verify repo path remains unchanged"
    ],
    "passes": true
  },
  {
    "category": "validation",
    "description": "Repo update fails if multiple repos share same path",
    "steps": [
      "Have multiple repos with identical paths in database",
      "Attempt to update repo via api.repos.update",
      "Verify error is thrown indicating ambiguous update",
      "Verify no repos are modified"
    ],
    "passes": false
  }
]
